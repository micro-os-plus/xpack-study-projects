{
  "name": "blinky-rtos",
  "version": "0.1.0",
  "description": "An xPack project with multi-platform Blinky applications",
  "main": "",
  "scripts": {
    "test": "echo 'upgrade xpm to v0.9 or later' && exit 1"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/micro-os-plus/xpack-study-projects.git"
  },
  "bugs": {
    "url": "https://github.com/micro-os-plus/xpack-study-projects/issues/"
  },
  "homepage": "https://github.com/micro-os-plus/xpack-study-projects/",
  "keywords": [
    "xpack"
  ],
  "author": {
    "name": "Liviu Ionescu",
    "email": "ilg@livius.net",
    "url": "https://github.com/ilg-ul/"
  },
  "license": "MIT",
  "config": {},
  "dependencies": {},
  "devDependenciesComment": "Toolchains are defined in each configuration; arm 10.2.1-1.1.2  9.3.1-1.4.1  8.3.1-1.4.1 ; riscv 10.1.0-1.1.1 8.3.0-2.3.1",
  "devDependencies": {
    "@micro-os-plus/architecture-cortexm": "github:micro-os-plus/architecture-cortexm-xpack#semver:3.0.1",
    "@micro-os-plus/architecture-riscv": "github:micro-os-plus/architecture-riscv-xpack#semver:3.0.2",
    "@micro-os-plus/architecture-synthetic-posix": "github:micro-os-plus/architecture-synthetic-posix-xpack#semver:3.0.3",
    "@micro-os-plus/build-helper": "github:micro-os-plus/build-helper-xpack#semver:2.1.2",
    "@micro-os-plus/cmsis-os": "github:micro-os-plus/cmsis-os-xpack#semver:2.0.1",
    "@micro-os-plus/devices-stm32f0": "github:micro-os-plus/devices-stm32f0-xpack#semver:2.0.2",
    "@micro-os-plus/devices-stm32f4": "github:micro-os-plus/devices-stm32f4-xpack#semver:2.0.2",
    "@micro-os-plus/diag-trace": "github:micro-os-plus/diag-trace-xpack#semver:2.2.1",
    "@micro-os-plus/libs-c": "github:micro-os-plus/libs-c-xpack#semver:2.0.1",
    "@micro-os-plus/libs-cpp-estd": "github:micro-os-plus/libs-cpp-estd-xpack#semver:2.0.2",
    "@micro-os-plus/libs-cpp": "github:micro-os-plus/libs-cpp-xpack#semver:2.0.2",
    "@micro-os-plus/memory-allocators": "github:micro-os-plus/memory-allocators-xpack#semver:2.0.1",
    "@micro-os-plus/posix-io": "github:micro-os-plus/posix-io-xpack#semver:2.0.5",
    "@micro-os-plus/rtos": "github:micro-os-plus/rtos-xpack#semver:2.0.4",
    "@micro-os-plus/semihosting": "github:micro-os-plus/semihosting-xpack#semver:3.0.1",
    "@micro-os-plus/startup": "github:micro-os-plus/startup-xpack#semver:2.0.1",
    "@micro-os-plus/utils-lists": "github:micro-os-plus/utils-lists-xpack#semver:2.0.1",
    "@micro-os-plus/version": "github:micro-os-plus/version-xpack#semver:7.0.3",
    "@xpack-sifive/devices": "github:micro-os-plus/devices-sifive-xpack#semver:2.0.1",
    "@xpack-sifive/platform-hifive1": "github:micro-os-plus/platform-sifive-hifive1-xpack#semver:2.0.1",
    "@xpack-dev-tools/cmake": "3.19.2-2.1",
    "@xpack-dev-tools/ninja-build": "1.10.2-2.1",
    "@xpack-dev-tools/qemu-arm": "2.8.0-12.1"
  },
  "xpack": {
    "minimumXpmRequired": "0.9.0",
    "actions": {
      "build-all": [
        "xpm run build --config stm32f4discovery-cmake-gcc10-debug",
        "xpm run build --config stm32f4discovery-cmake-gcc10-release",
        "xpm run build --config stm32f4discovery-cmake-gcc9-debug",
        "xpm run build --config stm32f4discovery-cmake-gcc9-release",
        "xpm run build --config stm32f4discovery-cmake-gcc8-debug",
        "xpm run build --config stm32f4discovery-cmake-gcc8-release",
        "xpm run build --config stm32f0discovery-cmake-gcc10-debug",
        "xpm run build --config stm32f0discovery-cmake-gcc10-release",
        "{% if os.platform != 'win32' %}xpm run build --config sifive-hifive1-cmake-gcc10-debug{% endif %}",
        "{% if os.platform != 'win32' %}xpm run build --config sifive-hifive1-cmake-gcc10-release{% endif %}",
        "{% if os.platform != 'win32' %}xpm run build --config sifive-hifive1-cmake-gcc8-debug{% endif %}",
        "{% if os.platform != 'win32' %}xpm run build --config sifive-hifive1-cmake-gcc8-release{% endif %}",
        "{% if os.platform != 'win32' %}xpm run build --config synthetic-posix-cmake-debug{% endif %}",
        "{% if os.platform != 'win32' %}xpm run build --config synthetic-posix-cmake-release{% endif %}"
      ],
      "clean-all": [
        "xpm run clean --config stm32f4discovery-cmake-gcc10-debug",
        "xpm run clean --config stm32f4discovery-cmake-gcc10-release",
        "xpm run clean --config stm32f4discovery-cmake-gcc9-debug",
        "xpm run clean --config stm32f4discovery-cmake-gcc9-release",
        "xpm run clean --config stm32f4discovery-cmake-gcc8-debug",
        "xpm run clean --config stm32f4discovery-cmake-gcc8-release",
        "xpm run clean --config stm32f0discovery-cmake-gcc10-debug",
        "xpm run clean --config stm32f0discovery-cmake-gcc10-release",
        "{% if os.platform != 'win32' %}xpm run clean --config sifive-hifive1-cmake-gcc10-debug{% endif %}",
        "{% if os.platform != 'win32' %}xpm run clean --config sifive-hifive1-cmake-gcc10-release{% endif %}",
        "{% if os.platform != 'win32' %}xpm run clean --config sifive-hifive1-cmake-gcc8-debug{% endif %}",
        "{% if os.platform != 'win32' %}xpm run clean --config sifive-hifive1-cmake-gcc8-release{% endif %}",
        "{% if os.platform != 'win32' %}xpm run clean --config synthetic-posix-cmake-debug{% endif %}",
        "{% if os.platform != 'win32' %}xpm run clean --config synthetic-posix-cmake-release{% endif %}"
      ],
      "execute-all": [
        "xpm run executeWithQemu --config stm32f4discovery-cmake-gcc10-debug",
        "xpm run executeWithQemu --config stm32f4discovery-cmake-gcc10-release",
        "xpm run executeWithQemu --config stm32f0discovery-cmake-gcc10-debug",
        "xpm run executeWithQemu --config stm32f0discovery-cmake-gcc10-release",
        "{% if os.platform != 'win32' %}xpm run execute --config synthetic-posix-cmake-debug{% endif %}",
        "{% if os.platform != 'win32' %}xpm run execute --config synthetic-posix-cmake-release{% endif %}"
      ],
      "test": [
        "xpm run build-all",
        "xpm run execute-all"
      ],
      "deep-clean": "cmake -E rm -rf build xpacks",
      "link-deps": [
        "xpm link @micro-os-plus/build-helper",
        "xpm link @micro-os-plus/libs-c",
        "xpm link @micro-os-plus/libs-cpp",
        "xpm link @micro-os-plus/diag-trace",
        "xpm link @micro-os-plus/semihosting",
        "xpm link @micro-os-plus/startup",
        "xpm link @micro-os-plus/devices-stm32f0-extras",
        "xpm link @micro-os-plus/devices-stm32f4-extras",
        "xpm link @micro-os-plus/architecture-cortexm",
        "xpm link @micro-os-plus/architecture-riscv",
        "xpm link @micro-os-plus/architecture-synthetic-posix",
        "xpm link @xpack-sifive/devices",
        "xpm link @xpack-sifive/platform-hifive1",
        "xpm link @micro-os-plus/version"
      ]
    },
    "properties": {
      "buildFolderRelativePath": "build/{{ configuration.name }}",
      "commandCmakeGenerateWithToolchain": "cmake -S meta -B {{ properties.buildFolderRelativePath }} -G Ninja -D CMAKE_TOOLCHAIN_FILE=../xpacks/micro-os-plus-build-helper/cmake/{{ properties.toolchainFileName }} -D PLATFORM_NAME={{ properties.platformName }} -D CMAKE_BUILD_TYPE={{ properties.buildType }}",
      "commandCmakeGenerate": "cmake -S meta -B {{ properties.buildFolderRelativePath }} -G Ninja -D PLATFORM_NAME={{ properties.platformName }} -D CMAKE_BUILD_TYPE={{ properties.buildType }}",
      "commandCmakeBuild": "cmake --build {{ properties.buildFolderRelativePath }}",
      "commandCmakeClean": "cmake --build {{ properties.buildFolderRelativePath }} --target clean",
      "commandQemu": "qemu-system-gnuarmeclipse --verbose --verbose --board {{ properties.qemuBoardName }} -d unimp,guest_errors --image {{ properties.buildFolderRelativePath }}/blinky.elf --semihosting-config enable=on,target=native"
    },
    "buildConfigurations": {
      "stm32f4discovery-cmake-gcc10-debug": {
        "properties": {
          "buildType": "Debug",
          "platformName": "stm32f4discovery",
          "toolchainFileName": "toolchain-arm-none-eabi-gcc.cmake",
          "qemuBoardName": "STM32F4-Discovery"
        },
        "actions": {
          "build": [
            "{{ properties.commandCmakeGenerateWithToolchain }}",
            "{{ properties.commandCmakeBuild }}"
          ],
          "clean": "{{ properties.commandCmakeClean }}",
          "executeWithQemu": "{{ properties.commandQemu }} --nographic --semihosting-cmdline blinky 6",
          "executeWithQemuGraphical": "{{ properties.commandQemu }} --semihosting-cmdline blinky 6"
        },
        "devDependencies": {
          "@xpack-dev-tools/arm-none-eabi-gcc": "10.2.1-1.1.2"
        }
      },
      "stm32f4discovery-cmake-gcc10-release": {
        "properties": {
          "buildType": "MinSizeRel",
          "platformName": "stm32f4discovery",
          "toolchainFileName": "toolchain-arm-none-eabi-gcc.cmake",
          "qemuBoardName": "STM32F4-Discovery"
        },
        "actions": {
          "build": [
            "{{ properties.commandCmakeGenerateWithToolchain }}",
            "{{ properties.commandCmakeBuild }}"
          ],
          "clean": "{{ properties.commandCmakeClean }}",
          "executeWithQemu": "{{ properties.commandQemu }} --nographic --semihosting-cmdline blinky 6",
          "executeWithQemuGraphical": "{{ properties.commandQemu }} --semihosting-cmdline blinky 6"
        },
        "devDependencies": {
          "@xpack-dev-tools/arm-none-eabi-gcc": "10.2.1-1.1.2"
        }
      },
      "stm32f4discovery-cmake-gcc9-debug": {
        "properties": {
          "buildType": "Debug",
          "platformName": "stm32f4discovery",
          "toolchainFileName": "toolchain-arm-none-eabi-gcc.cmake",
          "qemuBoardName": "STM32F4-Discovery"
        },
        "actions": {
          "build": [
            "{{ properties.commandCmakeGenerateWithToolchain }}",
            "{{ properties.commandCmakeBuild }}"
          ],
          "clean": "{{ properties.commandCmakeClean }}",
          "executeWithQemu": "{{ properties.commandQemu }} --nographic --semihosting-cmdline blinky 6",
          "executeWithQemuGraphical": "{{ properties.commandQemu }} --semihosting-cmdline blinky 6"
        },
        "devDependencies": {
          "@xpack-dev-tools/arm-none-eabi-gcc": "9.3.1-1.4.1"
        }
      },
      "stm32f4discovery-cmake-gcc9-release": {
        "properties": {
          "buildType": "MinSizeRel",
          "platformName": "stm32f4discovery",
          "toolchainFileName": "toolchain-arm-none-eabi-gcc.cmake",
          "qemuBoardName": "STM32F4-Discovery"
        },
        "actions": {
          "build": [
            "{{ properties.commandCmakeGenerateWithToolchain }}",
            "{{ properties.commandCmakeBuild }}"
          ],
          "clean": "{{ properties.commandCmakeClean }}",
          "executeWithQemu": "{{ properties.commandQemu }} --nographic --semihosting-cmdline blinky 6",
          "executeWithQemuGraphical": "{{ properties.commandQemu }} --semihosting-cmdline blinky 6"
        },
        "devDependencies": {
          "@xpack-dev-tools/arm-none-eabi-gcc": "9.3.1-1.4.1"
        }
      },
      "stm32f4discovery-cmake-gcc8-debug": {
        "properties": {
          "buildType": "Debug",
          "platformName": "stm32f4discovery",
          "toolchainFileName": "toolchain-arm-none-eabi-gcc.cmake",
          "qemuBoardName": "STM32F4-Discovery"
        },
        "actions": {
          "build": [
            "{{ properties.commandCmakeGenerateWithToolchain }}",
            "{{ properties.commandCmakeBuild }}"
          ],
          "clean": "{{ properties.commandCmakeClean }}",
          "executeWithQemu": "{{ properties.commandQemu }} --nographic --semihosting-cmdline blinky 6",
          "executeWithQemuGraphical": "{{ properties.commandQemu }} --semihosting-cmdline blinky 6"
        },
        "devDependencies": {
          "@xpack-dev-tools/arm-none-eabi-gcc": "8.3.1-1.4.1"
        }
      },
      "stm32f4discovery-cmake-gcc8-release": {
        "properties": {
          "buildType": "MinSizeRel",
          "platformName": "stm32f4discovery",
          "toolchainFileName": "toolchain-arm-none-eabi-gcc.cmake",
          "qemuBoardName": "STM32F4-Discovery"
        },
        "actions": {
          "build": [
            "{{ properties.commandCmakeGenerateWithToolchain }}",
            "{{ properties.commandCmakeBuild }}"
          ],
          "clean": "{{ properties.commandCmakeClean }}",
          "executeWithQemu": "{{ properties.commandQemu }} --nographic --semihosting-cmdline blinky 6",
          "executeWithQemuGraphical": "{{ properties.commandQemu }} --semihosting-cmdline blinky 6"
        },
        "devDependencies": {
          "@xpack-dev-tools/arm-none-eabi-gcc": "8.3.1-1.4.1"
        }
      },
      "stm32f0discovery-cmake-gcc10-debug": {
        "properties": {
          "buildType": "Debug",
          "platformName": "stm32f0discovery",
          "toolchainFileName": "toolchain-arm-none-eabi-gcc.cmake",
          "qemuBoardName": "STM32F0-Discovery"
        },
        "actions": {
          "build": [
            "{{ properties.commandCmakeGenerateWithToolchain }}",
            "{{ properties.commandCmakeBuild }}"
          ],
          "clean": "{{ properties.commandCmakeClean }}",
          "executeWithQemu": "{{ properties.commandQemu }} --nographic --semihosting-cmdline blinky 6",
          "executeWithQemuGraphical": "{{ properties.commandQemu }} --semihosting-cmdline blinky 6"
        },
        "devDependencies": {
          "@xpack-dev-tools/arm-none-eabi-gcc": "10.2.1-1.1.2"
        }
      },
      "stm32f0discovery-cmake-gcc10-release": {
        "properties": {
          "buildType": "MinSizeRel",
          "platformName": "stm32f0discovery",
          "toolchainFileName": "toolchain-arm-none-eabi-gcc.cmake",
          "qemuBoardName": "STM32F0-Discovery"
        },
        "actions": {
          "build": [
            "{{ properties.commandCmakeGenerateWithToolchain }}",
            "{{ properties.commandCmakeBuild }}"
          ],
          "clean": "{{ properties.commandCmakeClean }}",
          "executeWithQemu": "{{ properties.commandQemu }} --nographic --semihosting-cmdline blinky 6",
          "executeWithQemuGraphical": "{{ properties.commandQemu }} --semihosting-cmdline blinky 6"
        },
        "devDependencies": {
          "@xpack-dev-tools/arm-none-eabi-gcc": "10.2.1-1.1.2"
        }
      },
      "sifive-hifive1-cmake-gcc10-debug": {
        "properties": {
          "buildType": "Debug",
          "platformName": "sifive-hifive1",
          "toolchainFileName": "toolchain-riscv-none-embed-gcc.cmake"
        },
        "actions": {
          "build": [
            "{{ properties.commandCmakeGenerateWithToolchain }}",
            "{{ properties.commandCmakeBuild }}"
          ],
          "clean": "{{ properties.commandCmakeClean }}"
        },
        "devDependencies": {
          "@xpack-dev-tools/riscv-none-embed-gcc": "10.1.0-1.1.1"
        }
      },
      "sifive-hifive1-cmake-gcc10-release": {
        "properties": {
          "buildType": "MinSizeRel",
          "platformName": "sifive-hifive1",
          "toolchainFileName": "toolchain-riscv-none-embed-gcc.cmake"
        },
        "actions": {
          "build": [
            "{{ properties.commandCmakeGenerateWithToolchain }}",
            "{{ properties.commandCmakeBuild }}"
          ],
          "clean": "{{ properties.commandCmakeClean }}"
        },
        "devDependencies": {
          "@xpack-dev-tools/riscv-none-embed-gcc": "10.1.0-1.1.1"
        }
      },
      "sifive-hifive1-cmake-gcc8-debug": {
        "properties": {
          "buildType": "Debug",
          "platformName": "sifive-hifive1",
          "toolchainFileName": "toolchain-riscv-none-embed-gcc.cmake"
        },
        "actions": {
          "build": [
            "{{ properties.commandCmakeGenerateWithToolchain }}",
            "{{ properties.commandCmakeBuild }}"
          ],
          "clean": "{{ properties.commandCmakeClean }}"
        },
        "devDependencies": {
          "@xpack-dev-tools/riscv-none-embed-gcc": "8.3.0-2.3.1"
        }
      },
      "sifive-hifive1-cmake-gcc8-release": {
        "properties": {
          "buildType": "MinSizeRel",
          "platformName": "sifive-hifive1",
          "toolchainFileName": "toolchain-riscv-none-embed-gcc.cmake"
        },
        "actions": {
          "build": [
            "{{ properties.commandCmakeGenerateWithToolchain }}",
            "{{ properties.commandCmakeBuild }}"
          ],
          "clean": "{{ properties.commandCmakeClean }}"
        },
        "devDependencies": {
          "@xpack-dev-tools/riscv-none-embed-gcc": "8.3.0-2.3.1"
        }
      },
      "synthetic-posix-cmake-debug": {
        "properties": {
          "buildType": "Debug",
          "platformName": "synthetic-posix"
        },
        "actions": {
          "build": [
            "{{ properties.commandCmakeGenerate }}",
            "{{ properties.commandCmakeBuild }}"
          ],
          "clean": "{{ properties.commandCmakeClean }}",
          "execute": "{{ properties.buildFolderRelativePath }}/blinky 6"
        }
      },
      "synthetic-posix-cmake-release": {
        "properties": {
          "buildType": "Release",
          "platformName": "synthetic-posix"
        },
        "actions": {
          "build": [
            "{{ properties.commandCmakeGenerate }}",
            "{{ properties.commandCmakeBuild }}"
          ],
          "clean": "{{ properties.commandCmakeClean }}",
          "execute": "{{ properties.buildFolderRelativePath }}/blinky 6"
        }
      }
    }
  }
}